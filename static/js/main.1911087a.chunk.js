(this.webpackJsonpbunnystudio=this.webpackJsonpbunnystudio||[]).push([[0],{36:function(t,e,n){},37:function(t,e,n){},44:function(t,e,n){"use strict";n.r(e);var c=n(0),a=n(1),s=n.n(a),i=n(21),o=n.n(i),r=(n(36),n(37),n(8)),d=n(18),u=n(30),j=n(17),b=n(3),h="FETCH_USERS",p="NEW_USER",l="EDIT_USER",O="FETCH_SINGLE_USERS",m="DELETE_USER",f="DELETE_TODO",x="FETCH_TODOS",v="FETCH_TODOS_BY_USERID",y="NEW_TODO",g="EDIT_TODO",S={items:[]};var C={items:[]};var k=Object(d.c)({users:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case h:return Object(b.a)(Object(b.a)({},t),{},{items:e.payload});case p:return Object(b.a)(Object(b.a)({},t),{},{items:[e.payload].concat(Object(j.a)(t.items))});case O:return Object(b.a)(Object(b.a)({},t),{},{items:[].concat(Object(j.a)(t.items),[e.payload])});case l:var n=t.items.find((function(t){return t.id==e.payload.id})),c=t.items;return c=n?t.items.map((function(t){return t.id==e.payload.id?Object(b.a)(Object(b.a)({},t),e.payload):t})):[].concat(Object(j.a)(t.items),[e.payload]),Object(b.a)(Object(b.a)({},t),{},{items:c});case m:var a=t.items.find((function(t){return t.id==e.payload.id})),s=t.items;return s=a?t.items.filter((function(t){return t.id!==e.payload.id})):[].concat(Object(j.a)(t.items),[e.payload]),Object(b.a)(Object(b.a)({},t),{},{items:s});default:return t}},todos:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case x:case v:return Object(b.a)(Object(b.a)({},t),{},{items:e.payload});case y:var n=t.items.find((function(t){return t.id===e.payload.id}));if(!n){var c=[e.payload].concat(Object(j.a)(t.items));return Object(b.a)(Object(b.a)({},t),{},{items:c})}case g:var a=t.items.find((function(t){return t.id==e.payload.id})),s=t.items;return s=a?t.items.map((function(t){return t.id==e.payload.id?Object(b.a)(Object(b.a)({},t),e.payload):t})):[].concat(Object(j.a)(t.items),[e.payload]),Object(b.a)(Object(b.a)({},t),{},{items:s});case f:var i=t.items.find((function(t){return t.id==e.payload.id})),o=t.items;return o=i?t.items.filter((function(t){return t.id!==e.payload.id})):[].concat(Object(j.a)(t.items),[e.payload]),Object(b.a)(Object(b.a)({},t),{},{items:o});default:return t}}}),E=[u.a],N=Object(d.d)(k,{},d.a.apply(void 0,E)),D=n(4),T=n(5),I=n(16),U=n(6),_=n(7),w=n(12),F=n(10),L=n(9),P=function(t){var e=t.title;return Object(c.jsxs)("div",{children:[Object(c.jsx)("h3",{children:e}),Object(c.jsx)("hr",{})]})},A=function(t){var e=t.onSubmit,n=t.onChange,a=t.name;return Object(c.jsxs)("form",{onSubmit:e,children:[Object(c.jsxs)("div",{class:"form-group row ",children:[Object(c.jsx)("label",{class:"mr-3",children:"Name : "}),Object(c.jsx)("input",{class:"form-control col-md-4",type:"text",name:"name",onChange:n,value:a})]}),Object(c.jsx)("div",{class:"form-group row",children:Object(c.jsx)("button",{class:"btn btn-primary",type:"submit",name:"submit",children:"Submit"})})]})},J=function(){return function(t){fetch("https://raphaeltodo.herokuapp.com/api/v1/users").then((function(t){return t.json()})).then((function(e){return t({type:h,payload:e})}))}},M=function(t){Object(F.a)(n,t);var e=Object(L.a)(n);function n(t){var c;return Object(U.a)(this,n),(c=e.call(this,t)).state={name:""},c.onChange=c.onChange.bind(Object(w.a)(c)),c.onSubmit=c.onSubmit.bind(Object(w.a)(c)),c}return Object(_.a)(n,[{key:"onChange",value:function(t){this.setState(Object(I.a)({},t.target.name,t.target.value))}},{key:"onSubmit",value:function(t){t.preventDefault();var e,n,c={name:this.state.name};this.props.dispatch((e=this.props.history,n=c,function(t){fetch("https://raphaeltodo.herokuapp.com/api/v1//users",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(n)}).then((function(t){return t.json()})).then((function(n){t({type:p,payload:n}),e.push("/")}))}))}},{key:"render",value:function(){return Object(c.jsxs)("div",{children:[Object(c.jsx)("br",{}),Object(c.jsx)(P,{title:"Create user"}),Object(c.jsx)(A,{onSubmit:this.onSubmit,onChange:this.onChange,name:this.state.name})]})}}]),n}(a.Component),R=Object(T.f)(Object(r.b)(null)(M)),H=function(){return function(t){fetch("https://raphaeltodo.herokuapp.com/api/v1/todos").then((function(t){return t.json()})).then((function(e){return t({type:x,payload:e})}))}},B=function(t){Object(F.a)(n,t);var e=Object(L.a)(n);function n(){return Object(U.a)(this,n),e.apply(this,arguments)}return Object(_.a)(n,[{key:"componentDidMount",value:function(){this.props.users.length<=0&&(this.props.dispatch(J()),this.props.dispatch(H()))}},{key:"render",value:function(){var t=this.props.users.map((function(t){return Object(c.jsxs)("tr",{children:[Object(c.jsx)("th",{scope:"row",children:t.name}),Object(c.jsxs)("td",{children:[Object(c.jsx)(D.b,{className:"btn btn-outline-primary mr-3",to:"/user/edit/".concat(t.id),children:"Edit"}),Object(c.jsx)(D.b,{className:"btn btn-outline-danger mr-3",to:"/user/delete/".concat(t.id),children:"Delete "}),Object(c.jsx)(D.b,{className:"btn btn-outline-secondary mr-3",to:"/todo/user/".concat(t.id),children:"View Task"}),Object(c.jsx)(D.b,{className:"btn btn-outline-success",to:"/todo/user/add/".concat(t.id),children:"Add Task"})]})]},t.id)}));return Object(c.jsxs)("div",{children:[Object(c.jsx)("br",{}),Object(c.jsx)("div",{class:"text-right",children:Object(c.jsx)(D.b,{className:"btn btn-primary",to:"/user/create",children:"Add new user"})}),Object(c.jsx)("h3",{children:"List of Users"}),Object(c.jsxs)("table",{class:"table table-striped",children:[Object(c.jsx)("thead",{children:Object(c.jsxs)("tr",{children:[Object(c.jsx)("th",{children:"Name"}),Object(c.jsx)("th",{children:"Actions"})]})}),Object(c.jsx)("tbody",{children:t})]})]})}}]),n}(a.Component),W=Object(r.b)((function(t){return{users:t.users.items}}))(B),G=function(t){Object(F.a)(n,t);var e=Object(L.a)(n);function n(t){var c;return Object(U.a)(this,n),(c=e.call(this,t)).state={users:c.props.users,name:c.props.users.name},c.onChange=c.onChange.bind(Object(w.a)(c)),c.onSubmit=c.onSubmit.bind(Object(w.a)(c)),c}return Object(_.a)(n,[{key:"componentDidMount",value:function(){null==this.props.users.name&&this.props.dispatch(J())}},{key:"onChange",value:function(t){this.setState(Object(I.a)({},t.target.name,t.target.value))}},{key:"onSubmit",value:function(t){t.preventDefault();var e,n,c={id:this.props.users.id,name:this.state.name};this.props.dispatch((e=this.props.history,n=c,function(t){fetch("https://raphaeltodo.herokuapp.com/api/v1//users/".concat(n.id),{method:"PUT",headers:{"content-type":"application/json"},body:JSON.stringify(n)}).then((function(t){return t.json()})).then((function(n){t({type:l,payload:n}),e.push("/")}))}))}},{key:"render",value:function(){return Object(c.jsxs)("div",{children:[Object(c.jsx)("br",{}),Object(c.jsx)(P,{title:"Edit user"}),Object(c.jsx)(A,{onSubmit:this.onSubmit,onChange:this.onChange,name:this.state.name})]})}}],[{key:"getDerivedStateFromProps",value:function(t,e){if(null==t.users.name&&t.dispatch(J()),t.users.name!==e.users.name)return{users:t.users,name:t.users.name}}}]),n}(a.Component),V=Object(T.f)(Object(r.b)((function(t,e){var n=e.match.params;return{users:t.users.items.find((function(t){return t.id==n.id}))||{},id:Number(n.id)}}))(G)),Y=function(t){Object(F.a)(n,t);var e=Object(L.a)(n);function n(){return Object(U.a)(this,n),e.apply(this,arguments)}return Object(_.a)(n,[{key:"componentDidMount",value:function(){var t,e;this.props.dispatch((t=this.props.history,e=this.props.id,function(n){fetch("https://raphaeltodo.herokuapp.com/api/v1//users/".concat(e.id),{method:"DELETE",headers:{"content-type":"application/json"}}).then((function(c){n({type:m,payload:{id:e.id}}),t.push("/")}))}))}},{key:"render",value:function(){return Object(c.jsx)("div",{children:"Deleting"})}}]),n}(a.Component),q=Object(T.f)(Object(r.b)((function(t,e){var n=e.match.params;return{id:{id:Number(n.id)}}}))(Y)),z=function(){return Object(c.jsxs)(T.c,{children:[Object(c.jsx)(T.a,{exact:!0,path:"/",component:W}),Object(c.jsx)(T.a,{exact:!0,path:"/user/create",component:R}),Object(c.jsx)(T.a,{exact:!0,path:"/user/edit/:id",component:V}),Object(c.jsx)(T.a,{exact:!0,path:"/user/delete/:id",component:q})]})},K=function(t){Object(F.a)(n,t);var e=Object(L.a)(n);function n(){return Object(U.a)(this,n),e.apply(this,arguments)}return Object(_.a)(n,[{key:"componentDidMount",value:function(){this.props.todos.length<=0&&this.props.dispatch(H())}},{key:"getUser",value:function(t){var e=this.props.users.filter((function(e){return e.id==t}));return 0==e.length?"":e[0].name}},{key:"render",value:function(){var t=this,e=this.props.todos.map((function(e){return Object(c.jsxs)("tr",{children:[Object(c.jsx)("th",{scope:"row",children:e.description}),Object(c.jsx)("td",{children:t.getUser(e.userId)}),Object(c.jsx)("td",{children:e.state}),Object(c.jsxs)("td",{children:[Object(c.jsx)(D.b,{className:"btn btn-outline-primary mr-3",to:"/todo/edit/".concat(e.id),children:"Edit"}),Object(c.jsx)(D.b,{className:"btn btn-outline-danger mr-3",to:"/todo/delete/".concat(e.id),children:"Delete"})]})]},e.id)}));return Object(c.jsxs)("div",{children:[Object(c.jsx)("br",{}),Object(c.jsx)(P,{title:"List of Todos"}),Object(c.jsxs)("table",{class:"table table-striped",children:[Object(c.jsx)("thead",{children:Object(c.jsxs)("tr",{children:[Object(c.jsx)("th",{children:"Title"}),Object(c.jsx)("th",{children:"User"}),Object(c.jsx)("th",{children:"Completed"}),Object(c.jsx)("th",{children:"Actions"})]})}),Object(c.jsx)("tbody",{children:e})]})]})}}]),n}(a.Component),Q=Object(T.f)(Object(r.b)((function(t,e){var n=e.match.params;return 0===Object.keys(n).length?{todos:t.todos.items,users:t.users.items}:{todos:t.todos.items.filter((function(t){return t.userId==n.userid})),users:t.users.items}}))(K)),X=function(t){var e=t.onSubmit,n=t.onChange,a=t.description,s=t.statex;return Object(c.jsxs)("form",{onSubmit:e,children:[Object(c.jsxs)("div",{className:"FormDiv",children:[Object(c.jsx)("label",{children:"Description : "}),Object(c.jsx)("br",{}),Object(c.jsx)("input",{type:"text",name:"description",onChange:n,value:a})]}),Object(c.jsxs)("div",{children:[Object(c.jsx)("label",{children:"State: "}),Object(c.jsx)("br",{}),Object(c.jsxs)("select",{name:"statex",onChange:n,value:s,children:[Object(c.jsx)("option",{value:"",children:"Select-one"}),Object(c.jsx)("option",{value:"to do",children:"to do"}),Object(c.jsx)("option",{value:"done",children:"done"})]})]}),Object(c.jsx)("br",{}),Object(c.jsx)("div",{className:"FormDiv",children:Object(c.jsx)("button",{type:"submit",name:"submit",children:"Submit"})})]})},Z=function(t){Object(F.a)(n,t);var e=Object(L.a)(n);function n(t){var c;return Object(U.a)(this,n),(c=e.call(this,t)).state={description:"",statex:""},c.onChange=c.onChange.bind(Object(w.a)(c)),c.onSubmit=c.onSubmit.bind(Object(w.a)(c)),c}return Object(_.a)(n,[{key:"onChange",value:function(t){this.setState(Object(I.a)({},t.target.name,t.target.value))}},{key:"onSubmit",value:function(t){t.preventDefault();var e,n,c={description:this.state.description,state:this.state.statex,userId:this.props.user.id};this.props.dispatch((e=this.props.history,n=c,function(t){console.log(n),fetch("https://raphaeltodo.herokuapp.com/api/v1/todos",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(n)}).then((function(t){return t.json()})).then((function(c){t({type:y,payload:c}),e.push("/todo/user/".concat(n.userId))}))}))}},{key:"render",value:function(){return Object(c.jsxs)("div",{children:[Object(c.jsx)("br",{}),Object(c.jsx)(P,{title:"Create new Todo"}),Object(c.jsx)(X,{onSubmit:this.onSubmit,onChange:this.onChange,description:this.state.description,statex:this.state.statex})]})}}]),n}(a.Component),$=Object(T.f)(Object(r.b)((function(t,e){var n=e.match.params;return{user:{id:Number(n.id)}}}))(Z)),tt=function(t){Object(F.a)(n,t);var e=Object(L.a)(n);function n(t){var c;return Object(U.a)(this,n),(c=e.call(this,t)).state={description:c.props.todo[0].description,statex:c.props.todo[0].state},c.onChange=c.onChange.bind(Object(w.a)(c)),c.onSubmit=c.onSubmit.bind(Object(w.a)(c)),c}return Object(_.a)(n,[{key:"onChange",value:function(t){this.setState(Object(I.a)({},t.target.name,t.target.value))}},{key:"onSubmit",value:function(t){t.preventDefault();var e,n,c={description:this.state.description,state:this.state.statex,userId:this.props.todo[0].userId,id:this.props.id};this.props.dispatch((e=this.props.history,n=c,function(t){fetch("https://jsonplaceholder.typicode.com/todos/".concat(n.id),{method:"PUT",headers:{"content-type":"application/json"},body:JSON.stringify(n)}).then((function(t){return t.json()})).then((function(c){t({type:g,payload:c}),e.push("/todo/user/".concat(n.userId))}))}))}},{key:"render",value:function(){return Object(c.jsxs)("div",{children:[Object(c.jsx)("br",{}),Object(c.jsx)(P,{title:"Edit Todo"}),Object(c.jsx)(X,{onSubmit:this.onSubmit,onChange:this.onChange,description:this.state.description,state:this.state.statex})]})}}]),n}(a.Component),et=Object(T.f)(Object(r.b)((function(t,e){var n=e.match.params;return{todo:t.todos.items.filter((function(t){return t.id==n.id})),id:Number(n.id)}}))(tt)),nt=function(t){Object(F.a)(n,t);var e=Object(L.a)(n);function n(){return Object(U.a)(this,n),e.apply(this,arguments)}return Object(_.a)(n,[{key:"componentDidMount",value:function(){var t,e;this.props.dispatch((t=this.props.history,e=this.props.todo,function(n){fetch("https://raphaeltodo.herokuapp.com/api/v1/todos/".concat(e[0].id),{method:"DELETE",headers:{"content-type":"application/json"}}).then((function(c){n({type:f,payload:{id:e[0].id}}),t.push("/todo/user/".concat(e[0].userId))}))}))}},{key:"render",value:function(){return Object(c.jsx)("div",{children:"Deleting"})}}]),n}(a.Component),ct=Object(T.f)(Object(r.b)((function(t,e){var n=e.match.params;return{todo:t.todos.items.filter((function(t){return t.id==n.id}))}}))(nt)),at=function(){return Object(c.jsxs)(T.c,{children:[Object(c.jsx)(T.a,{exact:!0,path:"/todo/user/add/:id",component:$}),Object(c.jsx)(T.a,{exact:!0,path:"/todo/user/:userid",component:Q}),Object(c.jsx)(T.a,{exact:!0,path:"/todo/delete/:id",component:ct}),Object(c.jsx)(T.a,{exact:!0,path:"/todo/edit/:id",component:et}),Object(c.jsx)(T.a,{exact:!0,path:"/todo",component:Q})]})},st=function(){return Object(c.jsxs)(T.c,{children:[Object(c.jsx)(T.a,{exact:!0,path:"/",component:z}),Object(c.jsx)(T.a,{path:"/user",component:z}),Object(c.jsx)(T.a,{path:"/todo",component:at})]})},it=function(t){Object(F.a)(n,t);var e=Object(L.a)(n);function n(){return Object(U.a)(this,n),e.apply(this,arguments)}return Object(_.a)(n,[{key:"render",value:function(){return Object(c.jsxs)("nav",{className:"navbar navbar-expand-lg navbar-light bg-light navbar-static-top",children:[Object(c.jsx)(D.c,{to:"/",className:"navbar-brand",exact:!0,activeStyle:{color:"black"},children:"Todo App"}),Object(c.jsx)("div",{className:"collapse navbar-collapse",id:"navbarNav",children:Object(c.jsxs)("ul",{className:"navbar-nav",children:[Object(c.jsx)("li",{className:"nav-item active",children:Object(c.jsx)(D.c,{to:"/",className:"nav-link",exact:!0,activeStyle:{color:"black"},children:"User"})}),Object(c.jsx)("li",{className:"nav-item",children:Object(c.jsx)(D.c,{to:"/todo",className:"nav-link",exact:!0,activeStyle:{color:"black"},children:"Todo"})})]})})]})}}]),n}(a.Component);var ot=function(){return Object(c.jsx)(r.a,{store:N,children:Object(c.jsx)(D.a,{children:Object(c.jsxs)("div",{className:"App",children:[Object(c.jsx)(it,{}),Object(c.jsx)(st,{})]})})})},rt=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,45)).then((function(e){var n=e.getCLS,c=e.getFID,a=e.getFCP,s=e.getLCP,i=e.getTTFB;n(t),c(t),a(t),s(t),i(t)}))};n(43);o.a.render(Object(c.jsx)(s.a.StrictMode,{children:Object(c.jsx)(ot,{})}),document.getElementById("root")),rt()}},[[44,1,2]]]);
//# sourceMappingURL=main.1911087a.chunk.js.map